function doit(t){function e(t){var e={},s=t/3600,n=s%1*60;return e.hrs=Math.floor(s),e.min=Math.floor(n),e.sec=Math.round(n%1*60),60==e.sec&&(e.min=e.min+1,e.sec=0),e}function s(t){return(0==t.hrs?12:t.hrs>12?t.hrs-12:t.hrs)+":"+n(t.min)+":"+n(t.sec)+" "+(t.hrs>11?"p.m.":"a.m.")}function n(t){return t.toString().length<2?"0"+t:t}var r="data/"+$(t).attr("data")+".json",o="."+$(t).attr("class").split(" ").join(".");d3.json(r,function(t,r){function i(){function t(){s=s+1==86400?0:s+1;var t=e(s),i=(0==t.hrs?12:t.hrs>12?t.hrs-12:t.hrs).toString(),a=i+n(t.min)+(t.hrs>11?"p":"a");$(o+" .rect-"+a).css("opacity",1),$(o+" .timer .hour").text(i),$(o+" .timer .minute").text(strings.numberPrependZeros(t.min,2)),$(o+" .timer .second").text(strings.numberPrependZeros(t.sec,2)),$(o+" .timer .ampm").text(t.hrs>11?"p.m.":"a.m.");var c=r.filter(function(t){return t.seconds==s});if(c.length>0){var l=c[0],h=$(o+" .timer .hour").text().trim()+":"+$(o+" .timer .minute").text().trim()+" "+$(o+" .timer .ampm").text().trim();$(o+" .tweets").prepend("<div data-link='"+l.url+"' class='tweet'>             <div class='col left-col'><a class='block-link' target='_blank' href='http://www.twitter.com/"+l.user_handle+"/'><img src='"+l.user_img+"' /></div>             <div class='col right-col'><div class='user'><span class='name'>"+l.user_name+"</span><span class='handle'>@"+l.user_handle+"</span></a>&nbsp;<span style='font-size:.7em;'>&bull;</span>&nbsp;<span class='date-display'><a href='"+l.url+"'>"+h+"</a></span></div><div class='text'>"+l.text_html+"</div></div>             </div>")}}var s=0,i=setInterval(t,1);$(o+" .stopgo").on("click",function(){$(this).hasClass("go")?($(this).removeClass("go").addClass("stop"),$(this).html("<i class='fa fa-play' aria-hidden='true'></i> Play"),clearInterval(i)):($(this).removeClass("stop").addClass("go"),$(this).html("<i class='fa fa-pause' aria-hidden='true'></i> Pause"),i=setInterval(t,1))})}if(t)throw t;console.log("Total tweets: "+r.length);var a=Object.keys(r[0].tags);a.forEach(function(t){$(o+" .categories").append("<div class='cat "+t+"'>"+strings.toStartCase(t)+"</div>")}),r=_.sortBy(r,"seconds");for(var c=(d3.extent(r,function(t){return t.seconds}),[]),l=0;l<=86400;l+=1800)c.push(l);var h=[];c.forEach(function(t,n){var o={},i=e(t);o.time=s(i);var l=o.time.split(" ")[1],u=o.time.lastIndexOf(":");o.time=o.time.substr(0,u)+" "+l;var d=r.filter(function(e){if(e.seconds>=t&&e.seconds<=c[n+1])return e});a.forEach(function(t){o[t]=0}),d.forEach(function(t){a.forEach(function(e){o[e]=o[e]+t.tags[e].length})}),h.push(o)}),drawTimeChart(h,o),i()}),$(document).on("mouseover","a.block-link",function(){$(this).closest(".tweet").find(".user .name").css({color:".4E78A0","text-decoration":"underline"})}),$(document).on("mouseout","a.block-link",function(){$(this).closest(".tweet").find(".user .name").css({color:".14171a","text-decoration":"none"})}),$(document).on("click",".tweet",function(t){$(t.target).closest("a").length>0||window.open($(this).closest(".tweet").attr("data-link"))}),$(".tweets").mouseover(function(){$(this).css("overflow","scroll")}).mouseout(function(){$(this).css("overflow","hidden")})}$(document).ready(function(){var t=$(this).height();console.log(t),$("body, html").css({"max-height":t})});var isChrome=!!window.chrome&&!!window.chrome.webstore;$(".person-container").each(function(t,e){doit(e)}),String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)};