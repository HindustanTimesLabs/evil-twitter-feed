function drawTimeChart(a,e){console.log(e);var n=d3.select(e+" .time-chart").append("svg").attr("width",$(e).width()).attr("height",90),r={top:5,right:0,bottom:20,left:25},i=+n.attr("width")-r.left-r.right,c=+n.attr("height")-r.top-r.bottom,l=n.append("g").attr("transform","translate("+r.left+","+r.top+")"),o=d3.scaleBand().rangeRound([0,i]).paddingInner(.05).align(.1),s=d3.scaleLinear().rangeRound([c,0]),d=d3.axisBottom(o).tickSizeOuter(0).tickSizeInner(3),u=Object.keys(a[0]);u.shift(),a.columns=u,a.forEach(function(a,e){for(e=1,t=0;e<u.length;++e)t+=a[u[e]]=+a[u[e]];return a.total=t,a});var p=d3.max(a,function(t){return t.total}),f=d3.axisLeft(s).tickValues([0,p]),h=u;o.domain(a.map(function(t){return t.time})),s.domain([0,d3.max(a,function(t){return t.total})]).nice(),l.append("g").selectAll("g").data(d3.stack().keys(h)(a)).enter().append("g").attr("class",function(t){return"bar "+t.key}).selectAll("rect").data(function(t){return t}).enter().append("rect").attr("class",function(t){var a=t.data.time,e=a.split(" ")[1].split(".")[0];return"rect rect-"+a.split(" ")[0].replace(":","")+e}).attr("x",function(t){return o(t.data.time)}).attr("y",function(t){return s(t[1])}).attr("height",function(t){return s(t[0])-s(t[1])}).attr("width",o.bandwidth()),l.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(d),l.append("g").attr("class","y axis").call(f),$(e+" .x.axis .tick text").each(function(t,a){if(t%2==1)$(a).hide();else{var e=$(a).text();e=e.split(":")[0]+e.split(" ")[1].replace(".m.",""),$(a).text(e)}})}